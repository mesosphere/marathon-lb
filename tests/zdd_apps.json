{
  "apps":[
    {
      "id":"/nginx-green",
      "cmd":null,
      "args":null,
      "user":null,
      "env":{

      },
      "instances":3,
      "cpus":0.1,
      "mem":65,
      "disk":0,
      "executor":"",
      "constraints":[

      ],
      "uris":[

      ],
      "storeUrls":[

      ],
      "portDefinitions":[
        {"port":10000}
      ],
      "requirePorts":false,
      "backoffSeconds":1,
      "backoffFactor":1.15,
      "maxLaunchDelaySeconds":3600,
      "container":{
        "type":"DOCKER",
        "volumes":[

        ],
        "docker":{
          "image":"brndnmtthws/nginx-echo-sleep",
          "network":"BRIDGE",
          "portMappings":[
            {
              "containerPort":8080,
              "hostPort":0,
              "servicePort":10000,
              "protocol":"tcp"
            }
          ],
          "privileged":false,
          "parameters":[

          ],
          "forcePullImage":true
        }
      },
      "healthChecks":[
        {
          "path":"/",
          "protocol":"HTTP",
          "portIndex":0,
          "gracePeriodSeconds":15,
          "intervalSeconds":3,
          "timeoutSeconds":15,
          "maxConsecutiveFailures":10
        }
      ],
      "dependencies":[

      ],
      "upgradeStrategy":{
        "minimumHealthCapacity":1,
        "maximumOverCapacity":1
      },
      "labels":{
        "HAPROXY_DEPLOYMENT_GROUP":"nginx",
        "HAPROXY_GROUP":"external",
        "HAPROXY_DEPLOYMENT_COLOUR":"green",
        "HAPROXY_DEPLOYMENT_TARGET_INSTANCES":"20",
        "HAPROXY_DEPLOYMENT_STARTED_AT":"2016-02-01T14:13:42.499089",
        "HAPROXY_DEPLOYMENT_ALT_PORT":"10001",
        "HAPROXY_0_PORT":"10000",
        "HAPROXY_APP_ID":"nginx"
      },
      "acceptedResourceRoles":[
        "*",
        "slave_public"
      ],
      "ipAddress":null,
      "version":"2016-02-01T22:57:48.784Z",
      "versionInfo":{
        "lastScalingAt":"2016-02-01T22:57:48.784Z",
        "lastConfigChangeAt":"2016-02-01T22:13:42.538Z"
      },
      "tasksStaged":0,
      "tasksRunning":3,
      "tasksHealthy":3,
      "tasksUnhealthy":0,
      "deployments":[

      ],
      "tasks":[
        {
          "id":"nginx-green.1883a887-c931-11e5-9836-026ee08d9f6f",
          "host":"10.0.6.25",
          "ipAddresses":[
            {
              "ipAddress":"172.17.1.72",
              "protocol":"IPv4"
            }
          ],
          "ports":[
            16916
          ],
          "startedAt":"2016-02-01T22:14:03.432Z",
          "stagedAt":"2016-02-01T22:14:00.653Z",
          "version":"2016-02-01T22:14:00.625Z",
          "slaveId":"1f09399d-0cb0-4484-afd7-f08e99d2acbb-S1",
          "appId":"/nginx-green",
          "healthCheckResults":[
            {
              "alive":true,
              "consecutiveFailures":0,
              "firstSuccess":"2016-02-01T22:14:08.666Z",
              "lastFailure":null,
              "lastSuccess":"2016-02-01T23:10:30.986Z",
              "taskId":"nginx-green.1883a887-c931-11e5-9836-026ee08d9f6f"
            }
          ]
        },
        {
          "id":"nginx-green.0dbabba6-c931-11e5-9836-026ee08d9f6f",
          "host":"10.0.6.25",
          "ipAddresses":[
            {
              "ipAddress":"172.17.1.71",
              "protocol":"IPv4"
            }
          ],
          "ports":[
            31184
          ],
          "startedAt":"2016-02-01T22:13:44.850Z",
          "stagedAt":"2016-02-01T22:13:42.559Z",
          "version":"2016-02-01T22:13:42.538Z",
          "slaveId":"1f09399d-0cb0-4484-afd7-f08e99d2acbb-S1",
          "appId":"/nginx-green",
          "healthCheckResults":[
            {
              "alive":true,
              "consecutiveFailures":0,
              "firstSuccess":"2016-02-01T22:13:50.565Z",
              "lastFailure":null,
              "lastSuccess":"2016-02-01T23:10:31.005Z",
              "taskId":"nginx-green.0dbabba6-c931-11e5-9836-026ee08d9f6f"
            }
          ]
        },
        {
          "id":"nginx-green.23532518-c931-11e5-9836-026ee08d9f6f",
          "host":"10.0.6.25",
          "ipAddresses":[
            {
              "ipAddress":"172.17.1.73",
              "protocol":"IPv4"
            }
          ],
          "ports":[
            23336
          ],
          "startedAt":"2016-02-01T22:14:21.314Z",
          "stagedAt":"2016-02-01T22:14:18.790Z",
          "version":"2016-02-01T22:14:18.768Z",
          "slaveId":"1f09399d-0cb0-4484-afd7-f08e99d2acbb-S1",
          "appId":"/nginx-green",
          "healthCheckResults":[
            {
              "alive":true,
              "consecutiveFailures":0,
              "firstSuccess":"2016-02-01T22:14:26.805Z",
              "lastFailure":null,
              "lastSuccess":"2016-02-01T23:10:30.986Z",
              "taskId":"nginx-green.23532518-c931-11e5-9836-026ee08d9f6f"
            }
          ]
        }
      ]
    },
    {
      "id":"/nginx-blue",
      "cmd":null,
      "args":null,
      "user":null,
      "env":{

      },
      "instances":1,
      "cpus":0.1,
      "mem":65,
      "disk":0,
      "executor":"",
      "constraints":[

      ],
      "uris":[

      ],
      "storeUrls":[

      ],
      "ports":[
        10001
      ],
      "requirePorts":false,
      "backoffSeconds":1,
      "backoffFactor":1.15,
      "maxLaunchDelaySeconds":3600,
      "container":{
        "type":"DOCKER",
        "volumes":[

        ],
        "docker":{
          "image":"brndnmtthws/nginx-echo-sleep",
          "network":"BRIDGE",
          "portMappings":[
            {
              "containerPort":8080,
              "hostPort":0,
              "servicePort":10001,
              "protocol":"tcp"
            }
          ],
          "privileged":false,
          "parameters":[

          ],
          "forcePullImage":true
        }
      },
      "healthChecks":[
        {
          "path":"/",
          "protocol":"HTTP",
          "portIndex":0,
          "gracePeriodSeconds":15,
          "intervalSeconds":3,
          "timeoutSeconds":15,
          "maxConsecutiveFailures":10
        }
      ],
      "dependencies":[

      ],
      "upgradeStrategy":{
        "minimumHealthCapacity":1,
        "maximumOverCapacity":1
      },
      "labels":{
        "HAPROXY_DEPLOYMENT_GROUP":"nginx",
        "HAPROXY_GROUP":"external",
        "HAPROXY_DEPLOYMENT_COLOUR":"blue",
        "HAPROXY_DEPLOYMENT_TARGET_INSTANCES":"3",
        "HAPROXY_DEPLOYMENT_STARTED_AT":"2016-02-01T14:57:54.371005",
        "HAPROXY_DEPLOYMENT_ALT_PORT":"10001",
        "HAPROXY_0_PORT":"10000",
        "HAPROXY_APP_ID":"nginx"
      },
      "acceptedResourceRoles":[
        "*",
        "slave_public"
      ],
      "ipAddress":null,
      "version":"2016-02-01T22:57:54.370Z",
      "versionInfo":{
        "lastScalingAt":"2016-02-01T22:57:54.370Z",
        "lastConfigChangeAt":"2016-02-01T22:57:54.370Z"
      },
      "tasksStaged":0,
      "tasksRunning":1,
      "tasksHealthy":1,
      "tasksUnhealthy":0,
      "deployments":[

      ],
      "tasks":[
        {
          "id":"nginx-blue.3a58a46a-c937-11e5-9836-026ee08d9f6f",
          "host":"10.0.1.147",
          "ipAddresses":[
            {
              "ipAddress":"172.17.0.45",
              "protocol":"IPv4"
            }
          ],
          "ports":[
            25724
          ],
          "startedAt":"2016-02-01T22:57:56.889Z",
          "stagedAt":"2016-02-01T22:57:54.394Z",
          "version":"2016-02-01T22:57:54.370Z",
          "slaveId":"1f09399d-0cb0-4484-afd7-f08e99d2acbb-S3",
          "appId":"/nginx-blue",
          "healthCheckResults":[
            {
              "alive":true,
              "consecutiveFailures":0,
              "firstSuccess":"2016-02-01T22:58:02.405Z",
              "lastFailure":null,
              "lastSuccess":"2016-02-01T23:10:31.356Z",
              "taskId":"nginx-blue.3a58a46a-c937-11e5-9836-026ee08d9f6f"
            }
          ]
        }
      ]
    }
  ]
}
